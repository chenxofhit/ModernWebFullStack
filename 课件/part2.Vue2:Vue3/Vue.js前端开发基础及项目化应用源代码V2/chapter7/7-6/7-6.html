<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"> 
<title>axios处理GET/POST请求示例,运行环境tomcat服务器</title> 
<!-- <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script> -->
<!-- <script src="https://unpkg.com/axios/dist/axios.min.js"></script> -->
<script src="./../vue.js"></script>
<script src="./../axios.min.js"></script>
</head>
<body>
    <div id="app">
        <button @click="handleGet">GET请求</button>
        <button @click="handlePost">POST请求</button>
        <p>{{resMsg}}</p>
    </div>    
</body>
<script> 
    const appObj = Vue.createApp({
        setup(){ 
            const resMsg = Vue.ref('')
            const handleGet = () => {                
                    axios.get('./data.json',{
                            params: {
                                userId: '333'
                            },
                            headers: {
                                token: 'lisi'
                            }
                        }).then((res) => {
                            resMsg.value = res.data;          
                        }).catch((error) => {
                            console.log('error init.' + error);
                        })
                    }
            const handlePost = () => {
                    axios.post('./data.json',{
                        data:{
                            userId: '111'
                        },
                        headers: {
                            token: 'wangwu'
                        }
                    }).then((res) => {
                        resMsg.value = res.data;
                    }).catch((error) => {
                        console.log('error ' + error);
                    })
                }               
            return {
                resMsg,
                handleGet,
                handlePost,
            }
        }
    })
    appObj.mount('#app')
</script>
</html>